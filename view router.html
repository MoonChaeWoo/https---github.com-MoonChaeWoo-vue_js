<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <div id="app">
      <h1>뷰 라우터 예제</h1>
      <p>
        <!-- URL을 변경하는 태그 -->
        <!-- 각 router-link는 화면사에서 Main 컴포넌트로 이동 Login 컴포넌트로 이동이라는 a태그 버튼으로 변환되어서 표시된다. -->
        <!-- 각 버튼을 클릭하면 to=""에 정의된 텍스트 값이 브라우저 URL 끝에 추가된다. -->
        <!-- 여기선 /main과 /login의 2개의 URL이 끝에 추가된다 -->
        <router-link to = "/main">Main 컴포넌트로 이동</router-link>
        <router-link to = "/login">Login 컴포넌트로 이동</router-link>
      </p>
      <!-- URL 값에 따라 갱신되는 화면 영역 -->
      <!-- router-view는 갱신된 URL에 해당하는 화면을 보여주는 영역이다.
      router-view에 나타낼 화면은 script에서 정의한다 -->
      <router-view></router-view>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router@3.5.3/dist/vue-router.js"></script>
    <script type="text/javascript">

      // 라우팅 : 웹 페이지 간의 이동 방법을 말함
      //         현대 웹 앱 형태 중 하나인 싱글 페이지 애플리케이션에서 많이 사용

      // 뷰 라우터
      // <router-link to = "URL 값">
      // - 페이지 이동 태그, 화면에서는 <a>로 표시되며 클릭하면 to에 지정한 URL로 이동한다.

      // <router-view>
      // - 페이지 표시 태그, 변경되는 URL에 따라 해당 컴포넌트를 뿌려주는 영역이다.

      // 뷰 라우터
      // - 뷰에서 라우팅 기능을 구현할 수 있도록 지원하는 공식 라이브러리이다.
      // - 뷰 라우터를 이용하면 뷰로 만든 페이지 간에 자유롭게 이동 가능

      // main과 login 컴포넌트 정의
      var Main = {template : '<div>main</div>'};
      var Login = {template : '<div>login</div>'};

      // 각 URL에 맞춰 표시할 컴포넌트 지정
      // routes 변수에서는 뷰 라우터를 하나 생성하고, routers를 삽입해 URL에 따라 화면이 전환될 수 있게 정의한다.
      var routes = [
        {path : '/main', component : Main},
        {path : '/login', component : Login}
      ];

      // 뷰 라우터 정의
      // router 변수에는 뷰 라우터 하나를 생성하고, routes를 삽입해 URL에 따라 화면이 전환될 수 있게 정의힌다.
      var router = new VueRouter({
        mode: 'history',
        routes, // 'routes' : routes의 줄인거 이기 때문에 다른 이름을 사용하려면 풀어서 재정의를 하면된다.
        // ex) 'routes' : test
      });

      // 뷰 인스턴스에 라우터 추가
      // 새 인스턴스를 생성하고 라우터의 정보가 담긴 router를 추가하는 코드
      // 여기서 .$mount 는 el속성과 같이 인스턴스를 화면에 붙여주는 역할을 한다.
      var app = new Vue({
        router
      }).$mount('#app');
      // $mount() API는 el속성과 동일하게 인스턴스를 화면에 붙이는 역할을 한다.
      // 인스턴스를 생성할 때 el속성을 넣지 않았더라도 생성하고 나서 $mount()를 이용하면 강제로 인스턴스 화면에 붙일 수 있다.
      // 공식문서는 모두 인스턴스 안에 el을 넣지 않고 라우터만 지정하여 생성한다음 생성된 인스턴스를 $mount()를 이용하여 붙이는 식으로
      // 안내하고 있다.
    </script>
  </body>
</html>
